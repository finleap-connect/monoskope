apiVersion: oathkeeper.ory.sh/v1alpha1
kind: Rule
metadata:
  name: ory-oathkeeper-rule-commandhandler
  labels:
    {{- include "monoskope.labels" . | nindent 4 }}
spec:
  upstream:
    url: "http://google.de" # Required but not used since proxy isn't used
    preserveHost: false
  match:
    url: <.*>
    methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS", "HEAD"]
  authenticators:
  - handler: oauth2_introspection
  authorizer:
    handler: allow
  mutators:
  - handler: noop